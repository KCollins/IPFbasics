#N canvas 508 340 1451 988 10;
#X obj 142 348 expr $f2-log($f2/$f3);
#X floatatom 179 181 5 0 0 0 - - -, f 5;
#X floatatom 178 320 5 0 0 0 - - -, f 5;
#X floatatom 146 389 5 0 0 0 - - -, f 5;
#X floatatom 417 147 5 0 0 0 - - -, f 5;
#X obj 178 452 0.1;
#X obj 224 452 0.2;
#X obj 271 452 0.3;
#X obj 317 452 0.4;
#X obj 140 452 0;
#X obj 174 412 t f b b b b b, f 18;
#X obj 530 309 phasor~;
#N canvas 1465 353 871 856 f0 0;
#X obj 415 34 inlet;
#X obj 465 269 outlet;
#X obj 342 163 threshold~ 0.6 0 0.5 0;
#X obj 202 38 inlet~;
#X obj 202 82 wrap~;
#X text 520 271 Trigger IPF calculation after 1 Period;
#X text 306 14 g for Amplitudemodulation;
#X text 17 11 input Phasor for fundamental Frequency;
#X connect 2 1 1 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X restore 475 572 pd f0;
#X obj 283 269 pack;
#X floatatom 308 234 5 0 0 0 - - -, f 5;
#X obj 283 301 line;
#N canvas 1262 268 1207 712 Keyboard 1;
#X obj 160 624 outlet;
#X obj 345 626 outlet;
#X obj 505 625 outlet;
#X obj 759 625 outlet;
#X text 45 626 Note On/Off Gate;
#X text 232 626 Reset IPF to g0=1;
#X text 619 625 Fundamental frequency;
#X floatatom 298 520 5 0 0 0 - - -, f 5;
#X floatatom 562 389 5 0 0 0 - - -, f 5;
#X obj 326 13 notein;
#X obj 592 9 ctlin 1;
#X obj 594 356 clip 0 125;
#X obj 195 194 clip 0 1;
#X obj 322 111 poly 1 1;
#X obj 324 79 list;
#X obj 298 485 1, f 4;
#X obj 505 564 / 120, f 6;
#X obj 161 530 pack;
#X floatatom 206 490 5 0 0 0 - - -, f 5;
#X obj 161 553 line;
#X obj 142 338 0;
#X obj 175 337 0;
#X floatatom 175 359 5 0 0 0 - - -, f 5;
#X floatatom 142 360 5 0 0 0 - - -, f 5;
#X obj 159 301 t b b;
#X obj 179 394 expr if ($f1==1 && $f2==0 \, 1 \, 0);
#X obj 297 452 sel 1;
#X obj 525 333 loadbang;
#X obj 506 529 + 3;
#X floatatom 525 359 5 0 0 0 - - -, f 5;
#X floatatom 418 224 5 0 0 0 - - -, f 5;
#X obj 414 343 mtof;
#X text 49 373 Detects if note has change from Off to On;
#X text 427 628 scaled CC1;
#X text 650 12 CV in for controll;
#X text 390 113 CV pitch und gate;
#X obj 506 10 touchin;
#X obj 506 31 * 5;
#X text 761 600 CV pitch in Hz;
#X text 258 193 Gate;
#X connect 7 0 1 0;
#X connect 8 0 28 0;
#X connect 9 0 14 0;
#X connect 9 1 14 1;
#X connect 10 0 11 0;
#X connect 11 0 8 0;
#X connect 12 0 17 0;
#X connect 12 0 24 0;
#X connect 12 0 20 0;
#X connect 13 1 31 0;
#X connect 13 2 12 0;
#X connect 13 2 30 0;
#X connect 14 0 13 0;
#X connect 15 0 7 0;
#X connect 16 0 2 0;
#X connect 17 0 19 0;
#X connect 18 0 17 1;
#X connect 19 0 0 0;
#X connect 20 0 21 1;
#X connect 20 0 23 0;
#X connect 21 0 22 0;
#X connect 22 0 25 1;
#X connect 23 0 25 0;
#X connect 24 1 21 0;
#X connect 25 0 26 0;
#X connect 26 0 15 0;
#X connect 27 0 29 0;
#X connect 28 0 16 0;
#X connect 29 0 8 0;
#X connect 31 0 3 0;
#X connect 36 0 37 0;
#X restore 374 19 pd Keyboard;
#N canvas 1244 246 450 300 scale 0;
#X obj 33 31 inlet;
#X obj 33 190 outlet;
#X obj 33 98 expr (exp($f1)-1)/1.7;
#X obj 33 126 expr $f1*1.13+0.37;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 174 121 pd scale CC to alpha;
#X text 157 320 g;
#X text 140 181 Alpha;
#X text 108 351 IPF;
#X obj 140 473 s gn;
#X obj 500 509 r gn;
#X text 557 562 Create Fundamental Signal Modulated by gn;
#X text 460 20 Keyboard input \, use Keys to play notes use Modweel
(CC1) to Controle alpha;
#X floatatom 320 336 5 0 0 0 - - -, f 5;
#X obj 50 171 loadbang;
#X obj 50 192 1;
#X obj 50 192;
#X obj 81 192 0.5;
#X obj 208 579 expr abs($f1-$f2);
#X obj 305 607 expr abs($f1-$f2);
#X obj 115 670 outlet;
#X obj 198 673 outlet;
#X obj 299 673 outlet;
#X obj 464 677 outlet;
#X text 360 330 Alpha;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 1 0 0 2;
#X connect 2 0 0 1;
#X connect 3 0 10 0;
#X connect 5 0 6 1;
#X connect 5 0 30 1;
#X connect 6 0 7 1;
#X connect 6 0 31 1;
#X connect 7 0 8 1;
#X connect 9 0 5 1;
#X connect 9 0 21 0;
#X connect 9 0 30 0;
#X connect 9 0 31 0;
#X connect 9 0 32 0;
#X connect 10 0 9 1;
#X connect 10 1 9 0;
#X connect 10 2 5 0;
#X connect 10 3 6 0;
#X connect 10 4 7 0;
#X connect 10 5 8 0;
#X connect 11 0 12 0;
#X connect 12 0 0 0;
#X connect 12 0 35 0;
#X connect 13 0 15 0;
#X connect 14 0 13 1;
#X connect 15 0 0 2;
#X connect 15 0 25 0;
#X connect 16 1 3 0;
#X connect 16 1 2 0;
#X connect 16 2 17 0;
#X connect 16 2 4 0;
#X connect 16 3 11 0;
#X connect 17 0 1 0;
#X connect 22 0 12 1;
#X connect 26 0 27 0;
#X connect 26 0 28 0;
#X connect 26 0 29 0;
#X connect 27 0 2 0;
#X connect 29 0 0 2;
#X connect 30 0 33 0;
#X connect 31 0 34 0;
